<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="description" content="Data Visualisation"/>
    <meta name="keywords"    content="HTML, CSS, D3"/>
    <meta name="author"      content="Gian Tze Ee"/>

    <title>Task 2.4 Loading Data from CSV</title>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<div class="button-container">
    <button onclick="window.location.href='lab2.1.html'">Lab 2.1</button>
    <button onclick="window.location.href='lab2.2.html'">Lab 2.2</button>
    <button onclick="window.location.href='lab2.3.html'">Lab 2.3</button>
    <button onclick="window.location.href='lab2.4.html'">Lab 2.4</button>
</div>
<body>
    <h1>Drawing with Data cvs Exercise</h1> 
    <p id="chart"></p>

    <script>
        var w = 600;
        var h = 100;
        var barPadding = 4;


        d3.csv("Task_2.4_data.csv").then(function(data){
        console.log(data);
        wombatSightings = data;
        barChart(wombatSightings);
    })

        function barChart() {
           
            svg1.selectAll("rect")
                .data(wombatSightings)
                .enter()
                .append("rect")
                .attr("x", function(d, i) {
                    return i * (w / wombatSightings.length);
                })
                .attr("y", function(d) {
                    return h - (d.wombats * 4);
                })
                .attr("width", (w / wombatSightings.length) - barPadding)
                .attr("height", function(d) {
                    return d.wombats * 4;
                })
                .style("fill", function(d) {
                    if(d.wombats >19){
                return d3.color("blue");
            }else{
                return "rgb(20,240,233)";
            }
                });
        }
        var svg1 = d3.select("p")
                .append("svg")
                .attr("width", w)
                .attr("height", h);

    </script>

    <br>
    <br>
    <footer style="color:grey">COS30045 Data Visualisation<br>
    Gian Tze Ee</footer>
</body>

</html>
